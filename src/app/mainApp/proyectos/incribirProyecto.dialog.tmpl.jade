md-dialog.fullscreen-dialog(aria-label="Full Screen Dialog Test")
  md-toolbar
    .md-toolbar-tools
      md-button.md-icon-button(ng-click="vm.closeDialog()")
        md-icon.fa.fa-times.fa-2x
      h2(flex translate="") PROJECT.INSCRIPTION.FIELDS
  md-dialog-content
    div(flex='', layout='column', layout-align='center center', layout-fill=''  tri-wizard='')
      md-toolbar.md-primary
        .md-toolbar-tools(flex)
          div(flex layout='column')
            div(flex layout='row' layout-sm='column' layout-align='space-between center' )
              h2(translate='') PROJECT.INSCRIPTION.INSCRIBIR
              h3(translate='') {{vm.steps[triWizard.currentStep]}}
              h2
                | {{vm.completed}}%
                span(translate='') PROJECT.WIZARD.COMPLETED
            div(flex layout='row' layout-sm='column' layout-align='center center' )
              h3(translate='') {{vm.proyectoLabel}}
        md-progress-linear.md-accent.padding-bottom-10(md-mode='determinate', ng-value='vm.completed')
      md-tabs.md-primary(layout-fill='', md-selected='triWizard.currentStep', md-dynamic-height='', md-stretch-tabs='always')
        md-tab#selectFondeo(md-on-select="vm.onTabChanges(1)")
          md-tab-label
            span.oxy-step-label 1
          md-tab-body
            .wizard.layout-padding
              form(name='fondeoSelect', tri-wizard-form, novalidate='')
                div(layout='row', layout-sm='column', layout-md='column')
                  md-card(flex='30', layout='column')
                    md-card-content
                      md-virtual-repeat-container.vertical-container
                        md-list
                          md-divider
                          md-list-item.md-3-line(ng-repeat='fondo in vm.fondeos', ng-click="vm.selectedFondeos(fondo,$event)")
                            div.md-list-item-text(layout="column")
                              h3  {{fondo.Titulo}}
                              h4  {{fondo.PublicoObjetivo}}
                              p   ${{fondo.FondoTotal | number:2}}
                            md-divider
                  md-card(flex='70', layout='column')
                    md-card-content
                      h2.md-headline-1.text-center Información del programa de fondeo
                        h2.md-subhead
                          span(ng-bind-html='vm.selectedFondeo.Titulo')
                        h2.md-subhead
                          span
                          strong Público objetivo:&nbsp;
                          span(ng-bind-html="vm.selectedFondeo.PublicoObjetivo | cut:false:30:'...'")
                        h2.md-subhead
                          span
                          strong Fondo total:&nbsp;
                          span ${{vm.selectedFondeo.FondoTotal | number:2}}
                        h2.md-subhead
                          span
                            strong Descripción
                          span(ng-bind-html="vm.selectedFondeo.Descripcion| cut:false:30:'...'")
                        h2.md-subhead
                          span
                            strong Rubros de apoyo:&nbsp;
                          span(ng-bind-html="vm.selectedFondeo.RubrosDeApoyo| cut:false:30:'...'")
                        h2.md-subhead
                          span
                            strong Criterios de elegibilidad:&nbsp;
                          span {{(vm.selectedFondeo.CriteriosElegibilidad) | htmlToString}}

        md-tab#info(ng-disabled='vm.selectedFondeo==null', md-on-select='vm.onTabChanges(2)')
          md-tab-label
            span.oxy-step-label 2
          md-tab-body
            .wizard.layout-padding
              form(name='convocatoriaSelect', tri-wizard-form, novalidate='')
                div(layout='row', layout-sm='column', layout-md='column')
                  md-card(flex='30', layout='column')
                    md-card-content
                      md-virtual-repeat-container.vertical-container
                        md-list
                          md-divider
                          md-list-item.md-3-line(ng-repeat='convocatoria in vm.convocatorias', ng-click="vm.selectedConvocatorias(convocatoria,$event)")
                            div.md-list-item-text(layout="column")
                              h3  {{convocatoria.Nombre}}
                              h4  {{convocatoria.Inicio}}
                              p   {{convocatoria.Termino}}
                            md-divider
                  md-card(flex='70', layout='column')
                    md-card-content
                      h2.md-headline-1.text-center Información de la convocatoria
                        h2.md-subhead
                          strong Nombre:
                          span {{vm.selectedConvocatoria.Nombre}}
                        h2.md-subhead
                            strong Fecha de Inicio:
                          span {{vm.selectedConvocatoria.FechaInicio}}
                        h2.md-subhead
                            strong Fecha de Término:
                          span {{vm.selectedConvocatoria.FechaTermino}}
                        h2.md-subhead
                          strong Requisitos:
                          div(ng-repeat='requisito in vm.selectedConvocatoria.Requisitos')
                            ul
                              li.li-disc {{requisito.Nombre}}: {{requisito.Descripcion}}


        md-tab#history(ng-disabled='vm.selectedConvocatoria==null' md-on-select='vm.onTabChanges(3)')
          md-tab-label
            span.oxy-step-label 3
          md-tab-body
            .wizard.layout-padding
              form(name='convocatoriaSelect', tri-wizard-form, novalidate='')
                div(layout='row', layout-sm='column', layout-md='column')
                  md-card(flex='30', layout='column')
                    md-card-content
                      md-virtual-repeat-container.vertical-container
                        md-list
                          md-divider
                          md-list-item.md-3-line(ng-repeat='modalidad in vm.modalidades', ng-click="vm.selectedModalidades(modalidad,$event)")
                            div.md-list-item-text(layout="column")
                              h3  {{modalidad.Nombre}}
                              h4  ${{modalidad.Montos | number:2}}
                            md-divider
                  md-card(flex='70', layout='column')
                    md-card-content
                      h2.md-headline-1.text-center Información de la modalidad
                        h2.md-subhead
                          strong Nombre:
                          span {{vm.selectedModalidad.Nombre}}
                        h2.md-subhead
                          span
                          strong Montos:
                          span ${{vm.selectedModalidad.Montos | number:2}}
                        h2.md-subhead
                          strong Cristerio de evaluación:
                          span {{vm.selectedModalidad.CriteriosEvaluacion}}
                        h2.md-subhead
                          strong Entregables:
                          span {{vm.selectedModalidad.Entregables}}
                        h2.md-subhead
                          strong Figuras de Apoyo:
                          span {{vm.selectedModalidad.FigurasApoyo}}

        md-tab#justification(ng-disabled='vm.selectedModalidad==null' md-on-select='vm.onTabChanges(4)')
          md-tab-label
            span.oxy-step-label 4
          md-tab-body
            .wizard.layout-padding
              form(name='agregarSolicitud', novalidate='')
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.TECNOPARKS
                  md-select(ng-model='vm.tecnopark', required='', name='tecnopark' ng-change='vm.checkPass()' )
                    md-option(ng-repeat='tecnopark in vm.tecnoparks', value='{{tecnopark.id}}')
                      | {{tecnopark.Nombre}}
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.MOUNT
                  input(ng-model='vm.montosolicitado',type="number", required='', name='montosolicitado',ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-focus='vm.checkPass()')
                  div(ng-messages="agregarSolicitud.montosolicitado.$valid")
                    div(ng-if="agregarSolicitud.montosolicitado.$valid!=true")
                      span Ingresa un monto válido
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.TRLBEGIN
                  md-select(ng-model='vm.trlInicial', required='', name='trlInicial' ng-change='vm.checkPass()')
                    md-option(ng-repeat='trlInicial in vm.trlIniciales', value='{{trlInicial.id}}')
                      | {{trlInicial.Descripcion}}
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.TRLENDING
                  md-select(ng-model='vm.trlFinal', required='', name='trlFinal' ng-change='vm.checkPass()')
                    md-option(ng-repeat='trlFinal in vm.trlFinales', value='{{trlFinal.id}}')
                      | {{trlFinal.Descripcion}}
      .wizard-navbar(layout-fill='', layout-padding='', layout='row', layout-align='end center')
        md-button.md-primary.md-raised(ng-click='triWizard.prevStep()',aria-label='md-button', ng-hide='vm.currentTab > 4', ng-disabled='triWizard.prevStepDisabled()', translate='PROJECT.WIZARD.PREV')
        md-button.md-primary.md-raised(ng-click='triWizard.nextStep()',aria-label='md-button', ng-hide='vm.completed == 100 && vm.currentTab >= 4', ng-disabled='triWizard.nextStepDisabled()', translate='PROJECT.WIZARD.NEXT')
        md-button.md-accent.md-raised(ng-click='vm.send()',aria-label='md-button', ng-show='vm.completed == 100 && vm.currentTab >= 4 ', translate='PROJECT.WIZARD.SEND', ng-disabled='agregarSolicitud.$invalid')
