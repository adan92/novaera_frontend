md-dialog.fullscreen-dialog(aria-label="Full Screen Dialog Test")
  md-toolbar
    .md-toolbar-tools
      md-button.md-icon-button(ng-click="vm.closeDialog()")
        md-icon.fa.fa-times.fa-2x
      h2(flex translate="") {{(vm.tipo===1 ? 'PROJECT.INSCRIPTION.FIELDS': 'PROJECT.INSCRIPTION.SOLICITUDES')| translate}}

  md-dialog-content
    div(layout="column" ng-show="vm.tipo==2" ng-hide="vm.showSolicitudes==false" )
      md-table-container
        table(md-table='', md-row-select='', ng-model='vm.selectedSolicitudes')
          thead(md-head='', md-order='vm.query.order')
            tr(md-row='md-row')
              th(md-column='md-column', md-order-by='id')
                span(translate='') PROJECT.INSCRIPTION.TABLE.FONDEO_COL
              th(md-column='md-column', md-order-by='PublicoObjetivo')
                span(translate='') PROJECT.INSCRIPTION.TABLE.CONV_COL
              th(md-column='md-column', md-order-by='CriteriosElegibilidad')
                span(translate='') PROJECT.INSCRIPTION.TABLE.AMOUNT_COL
              th(md-column='md-column', md-order-by='RubrosDeApoyo')
                span(translate='') PROJECT.INSCRIPTION.TABLE.DATE_COL
              th(md-column='md-column', md-order-by='RubrosDeApoyo')
                span
          // Cuerpo de la tabla
          tbody(md-body='md-body')
            tr(md-row='md-row', md-select='sol', md-select-id='{{sol.id}}',ng-repeat='sol in vm.solicitudes | orderBy:vm.query.order')
              td(md-cell='md-cell') {{sol.ProgramaFondeo}}
              td(md-cell='md-cell') {{sol.Convocatoria}}
              td(md-cell='md-cell') {{sol.MontoSolicitado}}
              td(md-cell='md-cell') {{sol.FechaRegistro}}
              
    div(flex='', layout='column', layout-align='center center', layout-fill=''  tri-wizard='' ng-show="vm.tipo==1" ng-hide="vm.showInscribir==false")
      md-toolbar.md-primary
        .md-toolbar-tools(flex)
          div(flex layout='column')
            div(flex layout='row' layout-sm='column' layout-align='space-between center' )
              h2(translate='') PROJECT.INSCRIPTION.INSCRIBIR
              h3(translate='') {{vm.steps[triWizard.currentStep]}}
              h2
                | {{vm.completed}}%
                span(translate='') PROJECT.WIZARD.COMPLETED
            div(flex layout='row' layout-sm='column' layout-align='center center' )
              h3(translate='') {{vm.proyectoLabel}}
        md-progress-linear.md-accent.padding-bottom-10(md-mode='determinate', ng-value='vm.completed')
      md-tabs.md-primary(layout-fill='', md-selected='triWizard.currentStep', md-dynamic-height='', md-stretch-tabs='always')
        md-tab#selectFondeo(md-on-select="vm.onTabChanges(1)")
          md-tab-label
            span.oxy-step-label 1
          md-tab-body
            .wizard.layout-padding
              form(name='fondeoSelect', tri-wizard-form, novalidate='')
                div(layout='row', layout-sm='column', layout-md='column')
                  md-card(flex='30', layout='column')
                    md-card-content
                      div(flex layout='row', layout-sm='column', layout-md='column', layout-align='center center', ng-show='vm.fondeos==null')
                        md-progress-circular(md-mode='indeterminate')
                      div(flex layout='row', layout-sm='column', layout-md='column', layout-align='center center', ng-show='vm.fondeos!=null')
                        md-virtual-repeat-container.vertical-container
                          md-list
                            md-divider
                            md-list-item.md-3-line(ng-repeat='fondo in vm.fondeos', ng-click="vm.selectedFondeos(fondo,$event)")
                              div.md-list-item-text(layout="column")
                                h3  {{fondo.Titulo| cut:false:20:'...'}}
                                h4  {{fondo.PublicoObjetivo | cut:false:20:'...'}}
                                p   ${{fondo.FondoTotal | number:2}}
                              md-divider
                  md-card(flex='70', layout='column')
                    md-card-content(ng-show="vm.selectedFondeo!=null")
                      h2.md-headline-1.text-center(translate="") PROJECT.INSCRIPTION.INFOPROGRAM
                        h2.md-subhead
                          span {{vm.selectedFondeo.Titulo|htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.PUBLIC')
                          span :&nbsp; {{vm.selectedFondeo.PublicoObjetivo|htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.TOTAL')
                          span :&nbsp; ${{vm.selectedFondeo.FondoTotal | number:2}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.DESCRIPTION')
                          span :&nbsp;{{vm.selectedFondeo.Descripcion| htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.RUBROS')
                          span :&nbsp;{{vm.selectedFondeo.RubrosDeApoyo|htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.CRITERIA')
                          span :&nbsp;{{(vm.selectedFondeo.CriteriosElegibilidad) | htmlToString}}

        md-tab#info(ng-disabled='vm.selectedFondeo==null', md-on-select='vm.onTabChanges(2)')
          md-tab-label
            span.oxy-step-label 2
          md-tab-body
            .wizard.layout-padding
              form(name='convocatoriaSelect', tri-wizard-form, novalidate='')
                div(layout='row', layout-sm='column', layout-md='column')
                  md-card(flex='30', layout='column')
                    md-card-content
                    div(flex layout='row', layout-sm='column', layout-md='column', layout-align='center center', ng-show='vm.convocatorias==null')
                      md-progress-circular(md-mode='indeterminate')
                    div(flex layout='row', layout-sm='column', layout-md='column', layout-align='center center', ng-show='vm.convocatorias!=null')
                      md-virtual-repeat-container.vertical-container
                          md-list
                            md-divider
                            md-list-item.md-3-line(ng-repeat='convocatoria in vm.convocatorias', ng-click="vm.selectedConvocatorias(convocatoria,$event)")
                              div.md-list-item-text(layout="column")
                                h3  {{convocatoria.Nombre| cut:false:20:'...'}}
                                h4  {{convocatoria.Inicio}}
                                p   {{convocatoria.Termino}}
                              md-divider
                  md-card(flex='70', layout='column')
                    md-card-content(ng-show="vm.selectedConvocatoria!=null")
                      h2.md-headline-1.text-center(translate="")  PROJECT.INSCRIPTION.INFOCONV
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.NAME')
                          span :&nbsp;{{vm.selectedConvocatoria.Nombre|htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.FECH_INIT')
                          span :&nbsp;{{vm.selectedConvocatoria.FechaInicio|htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.FECH_END')
                          span :&nbsp; {{vm.selectedConvocatoria.FechaTermino|htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.REQUERIMENTS')
                          div(ng-repeat='requisito in vm.selectedConvocatoria.Requisitos')
                            ul
                              li.li-disc {{requisito.Nombre}}: {{requisito.Descripcion}}


        md-tab#history(ng-disabled='vm.selectedConvocatoria==null' md-on-select='vm.onTabChanges(3)')
          md-tab-label
            span.oxy-step-label 3
          md-tab-body
            .wizard.layout-padding
              form(name='convocatoriaSelect', tri-wizard-form, novalidate='')
                div(layout='row', layout-sm='column', layout-md='column')
                  md-card(flex='30', layout='column')
                    md-card-content
                      div(flex layout='row', layout-sm='column', layout-md='column', layout-align='center center', ng-show='vm.modalidades==null')
                        md-progress-circular(md-mode='indeterminate')
                      div(flex layout='row', layout-sm='column', layout-md='column', layout-align='center center', ng-show='vm.modalidades!=null')
                        md-virtual-repeat-container.vertical-container
                          md-list
                            md-divider
                            md-list-item.md-3-line(ng-repeat='modalidad in vm.modalidades', ng-click="vm.selectedModalidades(modalidad,$event)")
                              div.md-list-item-text(layout="column")
                                h3  {{modalidad.Nombre| cut:false:20:'...'}}
                                h4  ${{modalidad.Montos | number:2}}
                              md-divider
                  md-card(flex='70', layout='column')
                    md-card-content(ng-show="vm.selectedModalidad!=null")
                      h2.md-headline-1.text-center(translate="")  PROJECT.INSCRIPTION.INFOMOD
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.NAME')
                          span :&nbsp;{{vm.selectedModalidad.Nombre|htmlToString}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.AMOUNTS')
                          span :&nbsp; ${{vm.selectedModalidad.Montos | number:2}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.CRITERIA_EVALUATION')
                          span {{vm.selectedModalidad.CriteriosEvaluacion}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.DELIVERABLES')
                          span {{vm.selectedModalidad.Entregables}}
                        h2.md-subhead
                          span.bold(translate='PROJECT.INSCRIPTION.VIEWS.FIGURES')
                          span {{vm.selectedModalidad.FigurasApoyo}}

        md-tab#justification(ng-disabled='vm.selectedModalidad==null' md-on-select='vm.onTabChanges(4)')
          md-tab-label
            span.oxy-step-label 4
          md-tab-body
            .wizard.layout-padding.margin-left-200.margin-right-200
              form(name='agregarSolicitud',flex='50', novalidate='')
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.TECNOPARKS
                  md-select(ng-model='vm.tecnopark', required='', name='tecnopark' ng-change='vm.checkPass()' )
                    md-option(ng-repeat='tecnopark in vm.tecnoparks', value='{{tecnopark.id}}')
                      | {{tecnopark.Nombre}}
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.MOUNT
                  input(ng-model='vm.montosolicitado',type="number", required='', name='montosolicitado',ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-focus='vm.checkPass()')
                  div(ng-messages="agregarSolicitud.montosolicitado.$valid")
                    div(ng-if="agregarSolicitud.montosolicitado.$valid!=true")
                      span Ingresa un monto válido
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.TRLBEGIN
                  md-select(ng-model='vm.trlInicial', required='', name='trlInicial' ng-change='vm.checkPass()')
                    md-option(ng-repeat='trlInicial in vm.trlIniciales', value='{{trlInicial.id}}')
                      | {{trlInicial.Descripcion}}
                md-input-container
                  label(translate='') PROJECT.INSCRIPTION.TRLENDING
                  md-select(ng-model='vm.trlFinal', required='', name='trlFinal' ng-change='vm.checkPass()')
                    md-option(ng-repeat='trlFinal in vm.trlFinales', value='{{trlFinal.id}}')
                      | {{trlFinal.Descripcion}}
      .wizard-navbar(layout-fill='', layout-padding='', layout='row', layout-align='end center')
        md-button.md-primary.md-raised(ng-click='triWizard.prevStep()',aria-label='md-button', ng-hide='vm.currentTab > 4', ng-disabled='triWizard.prevStepDisabled()', translate='PROJECT.WIZARD.PREV')
        md-button.md-primary.md-raised(ng-click='triWizard.nextStep()',aria-label='md-button', ng-hide='vm.completed == 100 && vm.currentTab >= 4', ng-disabled='triWizard.nextStepDisabled()', translate='PROJECT.WIZARD.NEXT')
        md-button.md-accent.md-raised(ng-click='vm.send()',aria-label='md-button', ng-show='vm.completed == 100 && vm.currentTab >= 4 ', translate='PROJECT.WIZARD.SEND', ng-disabled='agregarSolicitud.$invalid')
